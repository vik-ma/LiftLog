<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="LocalLiftLog.Pages.WorkoutPage"
             xmlns:viewmodel="clr-namespace:LocalLiftLog.ViewModels"
             xmlns:models="clr-namespace:LocalLiftLog.Models"
             x:DataType="viewmodel:WorkoutViewModel"
             Title="Workout">
    
    <VerticalStackLayout 
        Margin="0, 10" 
        Spacing="10"
        HorizontalOptions="Center">
        <HorizontalStackLayout Spacing="10">
            <Label 
                Text="Workout ID:"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <Label 
                Text="{Binding Workout.Id}"
                TextColor="{DynamicResource MediumGreen}"
                Style="{StaticResource MediumBoldLabelStyle}" />
        </HorizontalStackLayout>
        
        <HorizontalStackLayout Spacing="10">
            <Label 
                Text="Name:"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <Label 
                Text="{Binding Workout.Name, Converter={StaticResource NullValueToEmptyTextConverter}, ConverterParameter=Name}"
                TextColor="{DynamicResource MediumOrange}"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <Button 
                Text="Change Name"
                Style="{StaticResource ExtraSmallButtonStyle}"
                Command="{Binding SetWorkoutNameCommand}" />
            <Button 
                Text="Reset Name"
                Style="{StaticResource ExtraSmallRedButtonStyle}"
                Command="{Binding ResetWorkoutNameCommand}" />
        </HorizontalStackLayout>
        
        <HorizontalStackLayout Spacing="10">
            <Label 
                Text="Date:"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <Label 
                Text="{Binding Workout.Date}"
                TextColor="{DynamicResource MediumBlue}"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <DatePicker
                Format="yyyy-MM-dd"
                Date="{Binding SelectedDateTime}"
                DateSelected="OnDateSelected" />
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10">
            <Label 
                IsVisible="{Binding Workout.WorkoutTemplateId, Converter={StaticResource IsInt0Converter}}"
                Text="No Workout Template Set"
                TextColor="{DynamicResource MediumRed}"
                Style="{StaticResource MediumBoldLabelStyle}" />
            <HorizontalStackLayout
                IsVisible="{Binding Workout.WorkoutTemplateId, Converter={StaticResource IsIntNot0Converter}}"
                Spacing="10"> 
                <Label 
                    Text="Workout Template:"
                    Style="{StaticResource MediumBoldLabelStyle}" />
                <Label 
                    Text="{Binding Workout.WorkoutTemplateId}"
                    TextColor="{DynamicResource MediumDarkGray}"
                    Style="{StaticResource MediumBoldLabelStyle}" />
            </HorizontalStackLayout>
            <Button 
                Text="Set Workout Template"
                Style="{StaticResource ExtraSmallButtonStyle}"/>
        </HorizontalStackLayout>



        <Button 
            Text="Go Back"
            Style="{StaticResource LargeButtonStyle}"
            Command="{Binding GoBackCommand}" />
    </VerticalStackLayout>
</ContentPage>